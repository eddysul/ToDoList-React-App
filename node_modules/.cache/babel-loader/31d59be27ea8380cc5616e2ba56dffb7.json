{"ast":null,"code":"import _classCallCheck from \"/Users/pyitheimkyaw/Desktop/Wash U Academics/CSE204 - Web Dev/08-todo-react-ptkpyitheim/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pyitheimkyaw/Desktop/Wash U Academics/CSE204 - Web Dev/08-todo-react-ptkpyitheim/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pyitheimkyaw/Desktop/Wash U Academics/CSE204 - Web Dev/08-todo-react-ptkpyitheim/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pyitheimkyaw/Desktop/Wash U Academics/CSE204 - Web Dev/08-todo-react-ptkpyitheim/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pyitheimkyaw/Desktop/Wash U Academics/CSE204 - Web Dev/08-todo-react-ptkpyitheim/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/pyitheimkyaw/Desktop/Wash U Academics/CSE204 - Web Dev/08-todo-react-ptkpyitheim/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/pyitheimkyaw/Desktop/Wash U Academics/CSE204 - Web Dev/08-todo-react-ptkpyitheim/src/Todo.js\";\nimport React, { Component } from 'react';\nimport './Todo.css';\nvar apiKey = \"6e2ac39490d68d8cee32b36012960fb0a3e39cfec2f17767e25323f7292f60ee\";\n\nvar Todo =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Todo, _Component);\n\n  function Todo(props) {\n    var _this;\n\n    _classCallCheck(this, Todo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Todo).call(this, props));\n    _this.state = {\n      completed: _this.props.completed\n    };\n    _this.completeTodo = _this.completeTodo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Todo, [{\n    key: \"completeTodo\",\n    value: function completeTodo(event) {\n      var self = this;\n      var todoID = event.target.parentNode.id; //'target' is the actual element the event was called for (i.e. click, button)\n\n      console.log(todoID);\n      console.log('completeButton clicked');\n      var data = {\n        completed: true\n      };\n      var completeRequest = new XMLHttpRequest();\n\n      completeRequest.onreadystatechange = function () {\n        if (this.readyState === 4 && this.status === 200) {\n          self.setState({\n            completed: true\n          });\n          event.target.checked = true;\n        } else if (this.readyState === 4) {\n          console.log(this.responseText);\n        }\n      };\n\n      completeRequest.open(\"PUT\", \"https://api.kraigh.net/todos/\" + todoID, true);\n      completeRequest.setRequestHeader(\"Content-type\", \"application/json\");\n      completeRequest.setRequestHeader(\"x-api-key\", apiKey); //Turning 'data' variable created above to be a string and send it to the server.\n\n      completeRequest.send(JSON.stringify(data));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var todoClass = \"todo\";\n      var checkClass = \"unchecked\";\n\n      if (this.state.completed) {\n        todoClass = \"completed\";\n        checkClass = \"checked\";\n      }\n\n      return React.createElement(\"li\", {\n        id: this.props.id,\n        className: todoClass,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onClick: this.props.completeTodo,\n        type: \"checkbox\",\n        className: todoClass,\n        checked: checkClass,\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        id: \"todo-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \" \", this.props.text, \" \"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.props.deleteTodo,\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"\\xD7\")));\n    }\n  }]);\n\n  return Todo;\n}(Component);\n\nexport default Todo;","map":{"version":3,"sources":["/Users/pyitheimkyaw/Desktop/Wash U Academics/CSE204 - Web Dev/08-todo-react-ptkpyitheim/src/Todo.js"],"names":["React","Component","apiKey","Todo","props","state","completed","completeTodo","bind","event","self","todoID","target","parentNode","id","console","log","data","completeRequest","XMLHttpRequest","onreadystatechange","readyState","status","setState","checked","responseText","open","setRequestHeader","send","JSON","stringify","todoClass","checkClass","text","deleteTodo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Todo.css';\n\nvar apiKey = \"6e2ac39490d68d8cee32b36012960fb0a3e39cfec2f17767e25323f7292f60ee\";\n\n\nclass Todo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      completed: this.props.completed\n    }\n    this.completeTodo = this.completeTodo.bind(this);\n  }\n\n\n  completeTodo(event) {\n    var self = this;\n    var todoID = event.target.parentNode.id; //'target' is the actual element the event was called for (i.e. click, button)\n    console.log(todoID)\n    console.log('completeButton clicked')\n\n    const data = {\n      completed: true\n    };\n\n    var completeRequest = new XMLHttpRequest();\n\n    completeRequest.onreadystatechange = function() {\n\n      if(this.readyState === 4 && this.status === 200) {\n\n        self.setState({\n          completed: true\n        });\n        event.target.checked = true\n\n      }\n      else if (this.readyState === 4) {\n        console.log(this.responseText);\n      }\n    }\n\n    completeRequest.open(\"PUT\", \"https://api.kraigh.net/todos/\" + todoID, true);\n    completeRequest.setRequestHeader(\"Content-type\", \"application/json\");\n    completeRequest.setRequestHeader(\"x-api-key\", apiKey);\n    //Turning 'data' variable created above to be a string and send it to the server.\n    completeRequest.send(JSON.stringify(data));\n\n  }\n\n\n  render() {\n    let todoClass = \"todo\"\n    let checkClass = \"unchecked\"\n    \n    if (this.state.completed) {\n      todoClass = \"completed\"\n      checkClass = \"checked\"\n    }\n\n    return (\n      <li id={this.props.id} className={todoClass}>\n\n        <input onClick={this.props.completeTodo} type=\"checkbox\" className={todoClass} checked={checkClass} value=\"\" />\n        <span id=\"todo-text\"> {this.props.text} </span>\n\n        <button type=\"button\" className=\"close\" aria-label=\"Close\">\n          <span onClick={this.props.deleteTodo} aria-hidden=\"true\">&times;</span>\n        </button>\n\n      </li>\n    );\n  }\n}\n\nexport default Todo;\n"]},"metadata":{},"sourceType":"module"}